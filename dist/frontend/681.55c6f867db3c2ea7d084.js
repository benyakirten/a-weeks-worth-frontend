(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[681],{5681:(t,e,n)=>{"use strict";n.r(e),n.d(e,{TheWeekModule:()=>yt});var i=n(8583),o=n(4466),a=n(5666),r=n(3018),s=n(8002),l=n(2479),c=n(8797),u=n(5788),d=n(2854),m=n(4697);let p=(()=>{class t{constructor(t){this.apollo=t}get allMyInfo(){return this.apollo.watchQuery({query:c.c2}).valueChanges}updateWeekForIndividual(t,e){return this.apollo.mutate({mutation:u.DP,variables:{shoppingList:t,meals:e},update:(t,{data:e,errors:n})=>{if(n)throw Error(`Unable to update individual: ${n[0].message}`);if(e){const n=t.readQuery({query:c.c2});if(n){const i=Object.assign(Object.assign({},n),{me:Object.assign(Object.assign({},n.me),{individual:Object.assign(Object.assign({},n.me.individual),{shoppingList:e.updateIndividual.individual.shoppingList,meals:e.updateIndividual.individual.meals})})});t.writeQuery({query:c.c2,data:i})}}}})}updateWeekForGroup(t,e,n){return this.apollo.mutate({mutation:d.QO,variables:{id:t,shoppingList:e,meals:n}})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(m._M))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var g=n(9150),h=n(4097),_=n(8424),f=n(665);function y(t,e){1&t&&r._UZ(0,"app-loading")}function q(t,e){if(1&t&&(r.TgZ(0,"option",8),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.Q6J("value",t.id),r.xp6(1),r.hij(" ",t.name," ")}}function w(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"select",4),r.NdJ("change",function(e){return r.CHM(t),r.oxw().changeGroup(e)}),r.TgZ(1,"option",5),r._uU(2,"Choose week to view"),r.qZA(),r.TgZ(3,"option",6),r._uU(4),r.qZA(),r.YNc(5,q,2,2,"option",7),r.qZA()}if(2&t){const t=r.oxw();r.xp6(4),r.hij("",t.username,"'s week"),r.xp6(1),r.Q6J("ngForOf",t.groupsSummary)}}let Z=(()=>{class t{constructor(t,e,n,i){this.store=t,this.weekService=e,this.modalService=n,this.router=i,this.loading=!0,this.modalId="the-week-dropdown-modal",this.modalTitle="Something went wrong",this.modalText="\n    Please try to load this page again,\n    either by refreshing the page or navigate away\n    then back here again\n  ",this.modalTop=0,this.groupsSummary=[]}setModalTop(){this.modalTop=window.scrollY}ngOnInit(){this.querySubscription=this.weekService.allMyInfo.subscribe(({data:t,errors:e,loading:n})=>{if(this.loading=n,e)return this.modalText=`\n            There was an error retrieving information -- ${e[0].message}.\n            Please refresh the page or navigate away then back. If the problem persists,\n            contact Ben and let him know what went wrong.\n          `,void this.showModal();t.me.individual.groups&&(this.groupsSummary=t.me.individual.groups.map(t=>({id:t.id,name:t.name})))}),this.storeSubscription=this.store.select("auth").pipe((0,s.U)(t=>{var e;return null===(e=t.user)||void 0===e?void 0:e.username})).subscribe(t=>this.username=t)}changeGroup(t){this.router.navigate(t.target.value?["the-week",t.target.value]:["the-week"])}showModal(){this.modalService.open(this.modalId)}closeModal(){this.modalService.close(this.modalId)}ngOnDestroy(){var t,e;null===(t=this.querySubscription)||void 0===t||t.unsubscribe(),null===(e=this.storeSubscription)||void 0===e||e.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(l.yh),r.Y36(p),r.Y36(g.Z),r.Y36(a.F0))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-week-dropdown"]],hostBindings:function(t,e){1&t&&r.NdJ("scroll",function(){return e.setModalTop()},!1,r.Jf7)},decls:6,vars:6,consts:[[1,"container"],[4,"ngIf"],[3,"change",4,"ngIf"],[3,"id","title","text","top","close"],[3,"change"],["value",""],["value","my-week"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"h3"),r._uU(2,"Choose a group"),r.qZA(),r.YNc(3,y,1,0,"app-loading",1),r.YNc(4,w,6,2,"select",2),r.qZA(),r.TgZ(5,"app-default-modal",3),r.NdJ("close",function(){return e.closeModal()}),r.qZA()),2&t&&(r.xp6(3),r.Q6J("ngIf",e.loading),r.xp6(1),r.Q6J("ngIf",!e.loading),r.xp6(1),r.Q6J("id",e.modalId)("title",e.modalTitle)("text",e.modalText)("top",e.modalTop))},directives:[i.O5,h.r,_.N,f.YN,f.Kr,i.sg],styles:[".container[_ngcontent-%COMP%]{display:flex;align-items:baseline}@media only screen and (max-width:56.25em){.container[_ngcontent-%COMP%]{flex-direction:column}}.container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-right:2rem}@media only screen and (max-width:56.25em){.container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:2rem 0}}.container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:1.8rem;padding:2rem 1rem;width:20rem}@media only screen and (max-width:56.25em){.container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin-bottom:2rem}}"]}),t})(),x=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-the-week"]],decls:8,vars:0,consts:[[1,"container"],[1,"title"],[1,"content"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"h1"),r._uU(3,"The Week"),r.qZA(),r._UZ(4,"app-week-dropdown"),r._UZ(5,"div"),r.qZA(),r.TgZ(6,"div",2),r._UZ(7,"router-outlet"),r.qZA(),r.qZA())},directives:[Z,a.lC],styles:[".title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;border-bottom:2px solid #212529;margin:2rem 0}@media only screen and (max-width:56.25em){.title[_ngcontent-%COMP%]{flex-direction:column}}"]}),t})();var v=n(1706);let M=(()=>{class t{constructor(t,e){this.router=t,this.authService=e}canActivate(t,e){return!!localStorage.getItem("AWW_token")||this.authService.isLoggedIn.pipe((0,s.U)(t=>!!t||(this.router.navigate(["/auth"],{queryParams:{returnUrl:e.url}}),!1)))}canActivateChild(t,e){return!!localStorage.getItem("AWW_token")||this.authService.isLoggedIn.pipe((0,s.U)(t=>!!t||(this.router.navigate(["/auth"],{queryParams:{returnUrl:e.url}}),!1)))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a.F0),r.LFG(v.e))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-week-blank"]],decls:2,vars:0,template:function(t,e){1&t&&(r.TgZ(0,"h3"),r._uU(1," No group has been selected yet. Please select one from the dropdown menu or look at your own week's plans. "),r.qZA())},styles:["h3[_ngcontent-%COMP%]{width:60%;margin:0 auto}"]}),t})();var O=(()=>(function(t){t.MON="Monday",t.TUE="Tuesday",t.WED="Wednesday",t.THU="Thursday",t.FRI="Friday",t.SAT="Saturday",t.SUN="Sunday"}(O||(O={})),O))(),C=(()=>(function(t){t.B="Breakfast",t.L="Lunch",t.D="Dinner",t.O="Other"}(C||(C={})),C))(),T=n(42),k=n(7611);function A(t,e){if(1&t&&(r.TgZ(0,"app-error-display"),r._uU(1),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.hij(" ",t.error," ")}}function I(t,e){if(1&t&&(r.TgZ(0,"li"),r.TgZ(1,"p"),r._uU(2),r.qZA(),r.qZA()),2&t){const t=e.$implicit,n=r.oxw(2);r.xp6(2),r.Oqu(n.prepareShoppingItem(t.name,t.quantity,t.unit))}}function P(t,e){if(1&t&&(r.TgZ(0,"ul"),r.YNc(1,I,3,1,"li",17),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Q6J("ngForOf",t.shoppingList)}}function N(t,e){1&t&&(r.TgZ(0,"div",18),r.TgZ(1,"h4"),r._uU(2," It looks like there are no items on your shopping list. Click on edit to get started. "),r.qZA(),r.qZA())}function L(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",21),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw(2).setDayFilter(e)}),r._uU(1),r.qZA()}if(2&t){const t=e.$implicit,n=r.oxw(2);r.ekj("active",n.dayFilter===t),r.xp6(1),r.hij(" ",n.weekday(t)," ")}}function J(t,e){if(1&t&&(r.TgZ(0,"div",19),r.YNc(1,L,2,3,"button",20),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Q6J("ngForOf",t.weekdayKey)}}const U=function(t){return["/recipes",t]};function F(t,e){if(1&t&&(r.TgZ(0,"div"),r.TgZ(1,"span"),r._uU(2," Recipe:\xa0 "),r.TgZ(3,"a",29),r._uU(4),r.qZA(),r.qZA(),r.qZA()),2&t){const t=r.oxw().$implicit;r.xp6(3),r.Q6J("routerLink",r.VKq(2,U,t.recipe.id)),r.xp6(1),r.hij(" ",t.recipe.name," ")}}function S(t,e){if(1&t&&(r.TgZ(0,"div"),r.TgZ(1,"span"),r._uU(2),r.qZA(),r.qZA()),2&t){const t=r.oxw().$implicit;r.xp6(2),r.hij(" Direction: ",t.text," ")}}function Q(t,e){if(1&t&&(r.TgZ(0,"li"),r.TgZ(1,"h5"),r._uU(2),r.qZA(),r.YNc(3,F,5,4,"div",1),r.YNc(4,S,3,1,"div",1),r.qZA()),2&t){const t=e.$implicit,n=r.oxw(4);r.xp6(2),r.hij("Meal for ",n.mealtime(t.time),":"),r.xp6(1),r.Q6J("ngIf",t.recipe),r.xp6(1),r.Q6J("ngIf",t.text)}}function Y(t,e){if(1&t&&(r.TgZ(0,"div",28),r.TgZ(1,"ul"),r.YNc(2,Q,5,3,"li",17),r.qZA(),r.qZA()),2&t){const t=r.oxw(3);r.xp6(2),r.Q6J("ngForOf",t.filteredMeals)}}function j(t,e){if(1&t&&(r.TgZ(0,"div",26),r.YNc(1,Y,3,1,"div",27),r.qZA()),2&t){r.oxw();const t=r.MAs(4),e=r.oxw();r.xp6(1),r.Q6J("ngIf",e.filteredMeals.length>0)("ngIfElse",t)}}function $(t,e){if(1&t&&(r.TgZ(0,"div"),r.TgZ(1,"span"),r._uU(2," Recipe:\xa0 "),r.TgZ(3,"a",29),r._uU(4),r.qZA(),r.qZA(),r.qZA()),2&t){const t=r.oxw().$implicit;r.xp6(3),r.Q6J("routerLink",r.VKq(2,U,t.recipe.id)),r.xp6(1),r.hij(" ",t.recipe.name," ")}}function W(t,e){if(1&t&&(r.TgZ(0,"div"),r.TgZ(1,"span"),r._uU(2),r.qZA(),r.qZA()),2&t){const t=r.oxw().$implicit;r.xp6(2),r.hij(" Direction: ",t.text," ")}}function D(t,e){if(1&t&&(r.TgZ(0,"li",33),r.TgZ(1,"p"),r._uU(2),r.qZA(),r.YNc(3,$,5,4,"div",1),r.YNc(4,W,3,1,"div",1),r.qZA()),2&t){const t=e.$implicit,n=r.oxw(5);r.xp6(2),r.hij("",n.mealtime(t.time),":"),r.xp6(1),r.Q6J("ngIf",t.recipe),r.xp6(1),r.Q6J("ngIf",t.text)}}function B(t,e){if(1&t&&(r.TgZ(0,"div"),r.TgZ(1,"h5"),r._uU(2),r.qZA(),r.TgZ(3,"ul"),r.YNc(4,D,5,3,"li",32),r.qZA(),r.qZA()),2&t){const t=r.oxw().$implicit,e=r.oxw(3);r.xp6(2),r.hij("Meals for: ",e.weekday(t),""),r.xp6(2),r.Q6J("ngForOf",e.mealsByDay(t))}}function R(t,e){if(1&t&&(r.TgZ(0,"li",28),r.YNc(1,B,5,2,"div",1),r.qZA()),2&t){const t=e.$implicit,n=r.oxw(3);r.xp6(1),r.Q6J("ngIf",n.mealsByDay(t).length>0)}}function E(t,e){if(1&t&&(r.TgZ(0,"div",30),r.TgZ(1,"div",28),r.TgZ(2,"ul"),r.YNc(3,R,2,1,"li",31),r.qZA(),r.qZA(),r.qZA()),2&t){const t=r.oxw(2);r.xp6(3),r.Q6J("ngForOf",t.weekdayKey)}}function G(t,e){if(1&t&&(r.TgZ(0,"div",34),r.TgZ(1,"h4"),r._uU(2),r.qZA(),r.qZA()),2&t){const t=r.oxw(2);r.xp6(2),r.hij("No meals for ",t.weekday(t.dayFilter),"")}}function z(t,e){if(1&t&&(r.TgZ(0,"div",22),r.YNc(1,j,2,2,"div",23),r.YNc(2,E,4,1,"div",24),r.YNc(3,G,3,1,"ng-template",null,25,r.W1O),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Q6J("ngIf",t.dayMode),r.xp6(1),r.Q6J("ngIf",!t.dayMode)}}function H(t,e){1&t&&(r.TgZ(0,"div",35),r.TgZ(1,"h4"),r._uU(2," It looks like there's no meals planned for the week. Click on edit to get started. "),r.qZA(),r.qZA())}let K=(()=>{class t{constructor(t,e,n,i){this.route=t,this.router=e,this.modalService=n,this.weekService=i,this.loading=!0,this.meals=[],this.shoppingList=[],this.dayFilter="MON",this.dayMode=!0,this.modalId="the-week-detail-modal",this.modalTitle="Something went wrong",this.modalText="\n    Unable to load recipe.\n    Please check the URL and try again.\n    If the problem persists, tell Ben about your problem.\n  ",this.modalTop=0}setModalTop(){this.modalTop=window.scrollY}ngOnInit(){this.route.params.subscribe(t=>{var e;if(!t.id)return this.modalText="\n            Unable to load recipe.\n            Please check the URL and try again.\n            If the problem persists, tell Ben about your problem.\n          ",void this.showModal();this.groupId=t.id,null===(e=this.querySubscription)||void 0===e||e.unsubscribe(),this.querySubscription=this.weekService.allMyInfo.subscribe(({data:e,errors:n,loading:i})=>{if(this.loading=i,n)this.error=n[0].message;else if(this.error=void 0,"my-week"===t.id)this.name="My Week",this.meals=e.me.individual.meals,this.shoppingList=e.me.individual.shoppingList;else{const t=e.me.individual.groups.find(t=>t.id===this.groupId);if(!t)return this.modalText="\n                    Unable to locate group based on ID.\n                    Please check the URL and try again.\n                  ",void this.showModal();this.name=t.name,this.meals=t.meals,this.shoppingList=t.shoppingList}})})}toggleDayMode(){this.dayMode=!this.dayMode}get weekdayKey(){return Object.keys(O)}weekday(t){return O[t]}mealtime(t){return C[t]}editWeek(){this.router.navigate(["the-week","edit",this.groupId])}setDayFilter(t){this.dayFilter=t}get filteredMeals(){return this.mealsByDay(this.dayFilter)}mealsByDay(t){return this.meals.filter(e=>e.day===t)}prepareShoppingItem(t,e,n){return"n/a"===n.toLowerCase().trim()?"n/a"===e.toLowerCase().trim()?t:`${e} ${t}`:"n/a"===e.toLowerCase().trim()?`${n} of ${t}`:`${e} ${n} of ${t}`}showModal(){this.modalService.open(this.modalId)}closeModal(){this.modalService.close(this.modalId),this.router.navigate(["the-week"])}ngOnDestroy(){var t;null===(t=this.querySubscription)||void 0===t||t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(a.gz),r.Y36(a.F0),r.Y36(g.Z),r.Y36(p))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-week-detail"]],hostBindings:function(t,e){1&t&&r.NdJ("scroll",function(){return e.setModalTop()},!1,r.Jf7)},decls:27,vars:13,consts:[[1,"container"],[4,"ngIf"],[1,"name"],[1,"name__display"],[1,"title__button"],["width","10rem",3,"disabled","click"],[1,"shopping-list"],[4,"ngIf","ngIfElse"],["noShoppingList",""],[1,"meals"],[1,"form-title"],[1,"change-mode"],["margin","0 0 1rem 0",3,"click"],["class","mode-buttons",4,"ngIf"],["class","meals__content",4,"ngIf","ngIfElse"],["noMeals",""],[3,"id","title","text","top","close"],[4,"ngFor","ngForOf"],[1,"shopping-list__no-items"],[1,"mode-buttons"],[3,"active","click",4,"ngFor","ngForOf"],[3,"click"],[1,"meals__content"],["class","day-mode",4,"ngIf"],["class","no-day-mode",4,"ngIf"],["noFilteredMeals",""],[1,"day-mode"],["class","meals__content__day",4,"ngIf","ngIfElse"],[1,"meals__content__day"],[3,"routerLink"],[1,"no-day-mode"],["class","meals__content__day",4,"ngFor","ngForOf"],["class","meals__content__day__list--no-day-mode",4,"ngFor","ngForOf"],[1,"meals__content__day__list--no-day-mode"],[1,"meals__content__no-meal"],[1,"meals__no-meals"]],template:function(t,e){if(1&t&&(r.TgZ(0,"div",0),r.YNc(1,A,2,1,"app-error-display",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"h3"),r._uU(5),r.qZA(),r.qZA(),r.TgZ(6,"div",4),r.TgZ(7,"app-button",5),r.NdJ("click",function(){return e.editWeek()}),r._uU(8," Edit "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"div",6),r.TgZ(10,"h5"),r._uU(11,"Shopping List"),r.qZA(),r.YNc(12,P,2,1,"ul",7),r.YNc(13,N,3,0,"ng-template",null,8,r.W1O),r.qZA(),r.TgZ(15,"div",9),r.TgZ(16,"div",10),r.TgZ(17,"h2"),r._uU(18,"Meals"),r.qZA(),r.TgZ(19,"div",11),r.TgZ(20,"app-button",12),r.NdJ("click",function(){return e.toggleDayMode()}),r._uU(21),r.qZA(),r.qZA(),r.YNc(22,J,2,1,"div",13),r.qZA(),r.YNc(23,z,5,2,"div",14),r.YNc(24,H,3,0,"ng-template",null,15,r.W1O),r.qZA(),r.qZA(),r.TgZ(26,"app-default-modal",16),r.NdJ("close",function(){return e.closeModal()}),r.qZA()),2&t){const t=r.MAs(14),n=r.MAs(25);r.xp6(1),r.Q6J("ngIf",e.error),r.xp6(4),r.Oqu(e.name),r.xp6(2),r.Q6J("disabled",!e.name),r.xp6(5),r.Q6J("ngIf",e.shoppingList.length>0)("ngIfElse",t),r.xp6(9),r.hij(" ",e.dayMode?"Whole week's meals":"Meals by day"," "),r.xp6(1),r.Q6J("ngIf",e.dayMode&&e.meals.length>0),r.xp6(1),r.Q6J("ngIf",e.meals.length>0)("ngIfElse",n),r.xp6(3),r.Q6J("id",e.modalId)("title",e.modalTitle)("text",e.modalText)("top",e.modalTop)}},directives:[i.O5,T.r,h.r,k.n,i.sg,a.yS],styles:["@media only screen and (max-width:56.25em){.container[_ngcontent-%COMP%]{padding:1rem}}.container[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:1rem}.container[_ngcontent-%COMP%]   .name__display[_ngcontent-%COMP%]{margin-right:2rem}.container[_ngcontent-%COMP%]   .shopping-list[_ngcontent-%COMP%]{margin:2rem 1rem}.container[_ngcontent-%COMP%]   .shopping-list[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{border-bottom:1px solid #212529;margin-bottom:1rem}.container[_ngcontent-%COMP%]   .shopping-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-left:2rem;list-style:circle}.container[_ngcontent-%COMP%]   .shopping-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:.5rem 0}.container[_ngcontent-%COMP%]   .shopping-list__no-items[_ngcontent-%COMP%]{margin-top:1rem;padding:2rem 1rem;background-color:#e9ecef;border:1px solid #212529;box-shadow:2px 2px 2px 2px #0006}.container[_ngcontent-%COMP%]   .meals[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%]{border-bottom:1px solid #000;margin:2rem 1rem}.container[_ngcontent-%COMP%]   .meals[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%]   .mode-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-bottom:1px solid #000}@media only screen and (max-width:56.25em){.container[_ngcontent-%COMP%]   .meals[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%]   .mode-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column}}.container[_ngcontent-%COMP%]   .meals__no-meals[_ngcontent-%COMP%]{margin:1rem;padding:2rem 1rem;background-color:#e9ecef;border:1px solid #212529;box-shadow:2px 2px 2px 2px #0006}.container[_ngcontent-%COMP%]   .meals__content[_ngcontent-%COMP%]{margin-left:1rem;background-color:#faf7f5;box-shadow:2px 2px 2px 2px #0006;padding:1rem 2rem}.container[_ngcontent-%COMP%]   .meals__content__day[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:2rem 0}.container[_ngcontent-%COMP%]   .meals__content__day[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.8rem}.container[_ngcontent-%COMP%]   .meals__content__day[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .meals__content__day[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:link, .container[_ngcontent-%COMP%]   .meals__content__day[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{text-decoration:none;color:#2d6a4f;opacity:.8;transition:all .4s}.container[_ngcontent-%COMP%]   .meals__content__day[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .container[_ngcontent-%COMP%]   .meals__content__day[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:link:hover, .container[_ngcontent-%COMP%]   .meals__content__day[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited:hover{text-decoration:underline;opacity:1}"]}),t})();var V=n(3035),X=n(9526);const tt=(t,e)=>t.unit in X.xv&&e.unit in X.xv?{quantity:t.quantity*X.xv[t.unit]+e.quantity*X.xv[e.unit],unit:X.PV}:t.unit in X._w&&e.unit in X._w?{quantity:t.quantity*X._w[t.unit]+e.quantity*X._w[e.unit],unit:X.WV}:t.unit in X.ej&&e.unit in X.ej?{quantity:t.quantity*X.ej[t.unit]+e.quantity*X.ej[e.unit],unit:X.eV}:t.unit in X.aY&&e.unit in X.aY?{quantity:t.quantity*X.aY[t.unit]+e.quantity*X.aY[e.unit],unit:X.SW}:void 0,et=t=>{const e=t.match(X.Qu);if(e)return+e[1]+ +e[2]/+e[3];const n=t.match(X.p1);return n?+n[1]/+n[2]:null};var nt=n(6935);function it(t,e){if(1&t&&(r.TgZ(0,"app-error-display"),r._uU(1),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.hij(" ",t.error," ")}}function ot(t,e){1&t&&(r.TgZ(0,"div",3),r._UZ(1,"app-loading"),r.qZA())}function at(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"li",25),r.TgZ(1,"div",26),r.TgZ(2,"div",27),r._UZ(3,"input",28),r.TgZ(4,"label",29),r._uU(5,"Name"),r.qZA(),r.qZA(),r.TgZ(6,"div",27),r._UZ(7,"input",30),r.TgZ(8,"label",29),r._uU(9,"Quantity"),r.qZA(),r.qZA(),r.TgZ(10,"div",27),r._UZ(11,"input",31),r.TgZ(12,"label",29),r._uU(13,"Unit"),r.qZA(),r.qZA(),r.TgZ(14,"button",32),r.NdJ("click",function(){const e=r.CHM(t).index;return r.oxw(2).removeShoppingItem(e)}),r._uU(15," Remove Item "),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.index,n=r.oxw(2);r.Q6J("formGroupName",t)("@list",void 0),r.xp6(3),r.Q6J("id","shopping-list-name-"+t)("name","shopping-list-name-"+t),r.xp6(1),r.Q6J("for","shopping-list-name-"+t),r.xp6(3),r.Q6J("id","shopping-list-quantity-"+t)("name","shopping-list-quantity-"+t),r.xp6(1),r.Q6J("for","shopping-list-quantity-"+t),r.xp6(3),r.Q6J("id","shopping-list-unit-"+t)("name","shopping-list-unit-"+t),r.xp6(1),r.Q6J("for","shopping-list-unit-"+t),r.xp6(2),r.Q6J("disabled",n.mutationLoading)}}function rt(t,e){if(1&t&&(r.TgZ(0,"option",43),r._uU(1),r.qZA()),2&t){const t=e.$implicit,n=r.oxw(3);r.Q6J("ngValue",t),r.xp6(1),r.hij(" ",n.weekday(t)," ")}}function st(t,e){if(1&t&&(r.TgZ(0,"option",43),r._uU(1),r.qZA()),2&t){const t=e.$implicit,n=r.oxw(3);r.Q6J("ngValue",t),r.xp6(1),r.hij(" ",n.mealtime(t)," ")}}function lt(t,e){if(1&t&&(r.TgZ(0,"option",43),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.Q6J("ngValue",t.id),r.xp6(1),r.hij(" ",t.name," ")}}function ct(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"li",33),r.TgZ(1,"div",34),r.TgZ(2,"div",35),r.TgZ(3,"label",36),r._uU(4,"Day of the week:"),r.qZA(),r.TgZ(5,"select",37),r.YNc(6,rt,2,2,"option",38),r.qZA(),r.qZA(),r.TgZ(7,"div",35),r.TgZ(8,"label",39),r._uU(9,"Meal time"),r.qZA(),r.TgZ(10,"select",40),r.YNc(11,st,2,2,"option",38),r.qZA(),r.qZA(),r.TgZ(12,"div",35),r.TgZ(13,"label",41),r._uU(14,"Recipe:"),r.qZA(),r.TgZ(15,"select",42),r.TgZ(16,"option",43),r._uU(17," Select Recipe (Leave here for no recipe) "),r.qZA(),r.YNc(18,lt,2,2,"option",38),r.qZA(),r.qZA(),r.qZA(),r.TgZ(19,"div",34),r.TgZ(20,"div",35),r.TgZ(21,"label",29),r._uU(22,"Meal Instructions:"),r.qZA(),r._UZ(23,"textarea",44),r.qZA(),r.TgZ(24,"div",45),r.TgZ(25,"app-button",32),r.NdJ("click",function(){const e=r.CHM(t).index;return r.oxw(2).removeMeal(e)}),r._uU(26," Remove Meal "),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.index,n=r.oxw(2);r.Q6J("formGroupName",t)("@list",void 0),r.xp6(5),r.Q6J("id","meal-weekday-"+t)("name","meal-weekday-"+t),r.xp6(1),r.Q6J("ngForOf",n.weekdayKey),r.xp6(4),r.Q6J("id","meal-time-"+t)("name","meal-time-"+t),r.xp6(1),r.Q6J("ngForOf",n.timeKey),r.xp6(4),r.Q6J("id","meal-recipe-"+t)("name","meal-recipe-"+t),r.xp6(1),r.Q6J("ngValue",null),r.xp6(2),r.Q6J("ngForOf",n.recipes),r.xp6(3),r.Q6J("for","meal-text-"+t),r.xp6(2),r.Q6J("id","meal-text-"+t)("name","meal-text-"+t),r.xp6(2),r.Q6J("disabled",n.mutationLoading)}}function ut(t,e){1&t&&r._UZ(0,"app-loading")}function dt(t,e){1&t&&(r.TgZ(0,"span"),r._uU(1,"Submit"),r.qZA())}function mt(t,e){1&t&&r._UZ(0,"app-loading")}function pt(t,e){1&t&&(r.TgZ(0,"span"),r._uU(1,"Submit"),r.qZA())}const gt=function(t){return["/the-week",t]};function ht(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"form",4),r.NdJ("ngSubmit",function(){return r.CHM(t),r.oxw().onSubmit()}),r.TgZ(2,"div",5),r.TgZ(3,"div",6),r.TgZ(4,"h3"),r._uU(5),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"section",7),r.TgZ(7,"div",8),r.TgZ(8,"div",9),r.TgZ(9,"h4"),r._uU(10,"Shopping List"),r.qZA(),r.qZA(),r.TgZ(11,"div",10),r.TgZ(12,"app-button",11),r.NdJ("click",function(){return r.CHM(t),r.oxw().addShoppingItem()}),r._uU(13," Add Shopping List Item "),r.qZA(),r.TgZ(14,"app-button",12),r.NdJ("click",function(){return r.CHM(t),r.oxw().addRecipeIngredientsToShoppingList()}),r._uU(15," Add Week's Ingredients to Shopping List "),r.qZA(),r.TgZ(16,"app-button",11),r.NdJ("click",function(){return r.CHM(t),r.oxw().consolidateShoppingList()}),r._uU(17," Consolidate Shopping List "),r.qZA(),r.TgZ(18,"app-button",12),r.NdJ("click",function(){return r.CHM(t),r.oxw().deleteShoppingList()}),r._uU(19," Delete Shopping List "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(20,"ul"),r.YNc(21,at,16,12,"li",13),r.qZA(),r.qZA(),r.TgZ(22,"section",14),r.TgZ(23,"div",15),r.TgZ(24,"h4"),r._uU(25,"Meals"),r.qZA(),r.TgZ(26,"div",16),r.TgZ(27,"app-button",17),r.NdJ("click",function(){return r.CHM(t),r.oxw().addMeal()}),r._uU(28," Add meal "),r.qZA(),r.TgZ(29,"app-button",17),r.NdJ("click",function(){return r.CHM(t),r.oxw().deleteAllMeals()}),r._uU(30," Delete All Meals "),r.qZA(),r.TgZ(31,"app-button",17),r.NdJ("click",function(){return r.CHM(t),r.oxw().resetToBlankWeek()}),r._uU(32," Reset All Meals "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(33,"div",18),r.TgZ(34,"ul"),r.YNc(35,ct,27,16,"li",19),r.qZA(),r.qZA(),r.qZA(),r.TgZ(36,"div",20),r.TgZ(37,"app-button",21),r.YNc(38,ut,1,0,"app-loading",0),r.YNc(39,dt,2,0,"span",0),r.qZA(),r.TgZ(40,"app-button",22),r._uU(41," Cancel "),r.qZA(),r.qZA(),r.TgZ(42,"div",23),r.TgZ(43,"app-button",21),r.YNc(44,mt,1,0,"app-loading",0),r.YNc(45,pt,2,0,"span",0),r.qZA(),r.TgZ(46,"app-button",24),r._uU(47," Cancel "),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(1),r.Q6J("formGroup",t.weekForm),r.xp6(4),r.Oqu(t.name),r.xp6(7),r.Q6J("disabled",t.mutationLoading),r.xp6(2),r.Q6J("disabled",t.mutationLoading),r.xp6(2),r.Q6J("disabled",t.mutationLoading),r.xp6(2),r.Q6J("disabled",t.mutationLoading),r.xp6(3),r.Q6J("ngForOf",t.shoppingListControls),r.xp6(6),r.Q6J("disabled",t.mutationLoading),r.xp6(2),r.Q6J("disabled",t.mutationLoading),r.xp6(2),r.Q6J("disabled",t.mutationLoading),r.xp6(4),r.Q6J("ngForOf",t.mealsControls),r.xp6(2),r.Q6J("disabled",!t.weekForm.valid||!!t.error||t.mutationLoading||!t.daysAndTimesUnique),r.xp6(1),r.Q6J("ngIf",t.mutationLoading),r.xp6(1),r.Q6J("ngIf",!t.mutationLoading),r.xp6(1),r.Q6J("routerLink",r.VKq(20,gt,t.groupId)),r.xp6(3),r.Q6J("disabled",!t.weekForm.valid||!!t.error||t.mutationLoading||!t.daysAndTimesUnique),r.xp6(1),r.Q6J("ngIf",t.mutationLoading),r.xp6(1),r.Q6J("ngIf",!t.mutationLoading),r.xp6(1),r.Q6J("disabled",t.mutationLoading)("routerLink",r.VKq(22,gt,t.groupId))}}const _t=[{path:"",component:x,canActivate:[M],canActivateChild:[M],children:[{path:"",pathMatch:"full",component:b},{path:"edit/:id",component:(()=>{class t{constructor(t,e,n,i,o){this.route=t,this.router=e,this.modalService=n,this.weekService=i,this.recipesService=o,this.loading=!0,this.recipeLoading=!0,this.mutationLoading=!1,this.mealTimesAndDaysUnique=!0,this.meals=[],this.recipes=[],this.shoppingList=[],this.modalId="the-week-form-modal",this.modalTitle="Something went wrong",this.modalText="\n    Unable to load recipe.\n    Please check the URL and try again.\n    If the problem persists, tell Ben about your problem.\n  ",this.modalTop=0}setModalTop(){this.modalTop=window.scrollY}ngOnInit(){this.initForm(),this.route.params.subscribe(t=>{var e;if(!t.id)return this.modalText="\n            Unable to load recipe.\n            Please check the URL and try again.\n            If the problem persists, tell Ben about your problem.\n          ",void this.showModal();this.groupId=t.id,null===(e=this.weekSubscription)||void 0===e||e.unsubscribe(),this.weekSubscription=this.weekService.allMyInfo.subscribe(({data:e,errors:n,loading:i})=>{if(this.loading=i,n)this.error=n[0].message;else{if(this.error=void 0,"my-week"===t.id)this.name="My Week",this.meals=e.me.individual.meals,this.shoppingList=e.me.individual.shoppingList;else{const n=e.me.individual.groups.find(e=>e.id===t.id);if(!n)return this.modalText="\n                    Unable to locate group based on ID.\n                    Please check the URL and try again.\n                  ",void this.showModal();this.name=n.name,this.meals=n.meals,this.shoppingList=n.shoppingList}this.initForm()}})}),this.recipesSubscription=this.recipesService.recipes.subscribe(({data:t,errors:e,loading:n})=>{this.recipeLoading=n,e?this.error=e[0].message:this.recipes=t.recipes})}initForm(){var t;let e=new f.Oe([]),n=new f.Oe([]);if(this.name){for(let t of this.shoppingList)e.push(new f.cw({name:new f.NI(t.name,[f.kI.required]),quantity:new f.NI(t.quantity,[f.kI.required]),unit:new f.NI(t.unit,[f.kI.required])}));for(let e of this.meals)n.push(new f.cw({time:new f.NI(e.time,[f.kI.required]),day:new f.NI(e.day,[f.kI.required]),text:new f.NI(e.text),recipeId:new f.NI(null===(t=e.recipe)||void 0===t?void 0:t.id)}))}this.weekForm=new f.cw({shoppingList:e,meals:n})}addRecipeIngredientsToShoppingList(){const t=this.weekForm.value.meals.map(t=>t.recipeId).filter(t=>!!t);let e=[];for(let n of t){const t=this.recipes.find(t=>t.id===n);if(!t)return;e=e.concat(t.ingredients)}for(let n of e)this.weekForm.get("shoppingList").push(new f.cw({name:new f.NI(n.name,[f.kI.required]),quantity:new f.NI(n.quantity,[f.kI.required]),unit:new f.NI(n.unit,[f.kI.required])}))}consolidateShoppingList(){const t=this.weekForm.controls.shoppingList.value,e=[],n=[];for(let a of t)if(n.includes(a.name.toLowerCase())){const t=n.indexOf(a.name.toLowerCase().trim()),i={quantity:et(a.quantity.trim())||+a.quantity.trim(),unit:a.unit.toLowerCase().trim()},o={quantity:et(e[t].quantity.trim())||+e[t].quantity.trim(),unit:e[t].unit.toLowerCase().trim()};if(isNaN(i.quantity)||isNaN(o.quantity))n.push(a.name.toLowerCase()),e.push(a);else{const r=tt(i,o);r?(e[t].quantity=r.quantity.toString(),e[t].unit=r.unit):i.unit.toLowerCase().trim()===o.unit.toLowerCase().trim()?e[t].quantity=(i.quantity+o.quantity).toString():(n.push(a.name.toLowerCase()),e.push(a))}}else n.push(a.name.toLowerCase().trim()),e.push(a);const i=e.map(t=>{const e=(t=>{switch(t.unit){case"milligrams":case"milligram":case"mg":return t.quantity/1e6>=.5?{unit:"kilograms",quantity:+(t.quantity/1e6).toFixed(2)}:t.quantity/1e3>=1?{unit:"grams",quantity:+(t.quantity/1e3).toFixed(2)}:t;case"oz":case"ounce":case"ounces":return t.quantity/16>=1?{unit:"pounds",quantity:+(t.quantity/16).toFixed(2)}:t;case"ml":case"milliliter":case"milliliters":return t.quantity/1e3>=.5?{unit:"liters",quantity:+(t.quantity/1e3).toFixed(2)}:t;case"tsp":case"teaspoon":case"teaspoons":return t.quantity/768>=.5?{unit:"gallons",quantity:+(t.quantity/768).toFixed(2)}:t.quantity/192>=.5?{unit:"quarts",quantity:+(t.quantity/192).toFixed(2)}:t.quantity/48>=.25?{unit:"cups",quantity:+(t.quantity/48).toFixed(2)}:t.quantity/6>=1?{unit:"fluid ounces",quantity:+(t.quantity/6).toFixed(2)}:t.quantity/3>=1?{unit:"tablespoons",quantity:+(t.quantity/3).toFixed(2)}:t;default:return t}})({quantity:+t.quantity,unit:t.unit}),n=(t=>{const e=Object.assign(Object.assign({},t),{unit:t.unit.toLowerCase().trim()});if(e.quantity<.2&&e.quantity>0){if(e.unit in X.ej)switch(e.unit){case"lb":case"pound":case"pounds":return{quantity:16*e.quantity,unit:"ounces"}}if(e.unit in X.aY)switch(e.unit){case"gallon":case"gallons":return{quantity:16*e.quantity,unit:"cups"};case"quart":case"quarts":case"qt":return{quantity:32*e.quantity,unit:"fluid ounces"};case"cups":case"cup":return{quantity:8*e.quantity,unit:"fluid ounces"};case"fluid ounces":case"fluid ounce":case"fl oz":return{quantity:6*e.quantity,unit:"teaspoon"};case"tablespoons":case"tablespoon":case"tbsp":return{quantity:3*e.quantity,unit:"teaspoon"}}if(e.unit in X.xv)switch(e.unit){case"kilograms":case"kilogram":case"kg":return{quantity:1e3*e.quantity,unit:"grams"};case"hectograms":case"hectogram":case"hg":return{quantity:100*e.quantity,unit:"grams"};case"decagrams":case"decagram":case"dg":return{quantity:10*e.quantity,unit:"grams"};case"grams":case"gram":return{quantity:1e3*e.quantity,unit:"milligrams"};case"centigrams":case"centigram":case"cg":return{quantity:10*e.quantity,unit:"milligrams"}}if(e.unit in X._w)switch(e.unit){case"kiloliters":case"kiloliter":case"kl":return{quantity:1e3*e.quantity,unit:"liters"};case"hectoliters":case"hectoliter":case"hl":return{quantity:100*e.quantity,unit:"liters"};case"decaliters":case"decaliter":case"dl":return{quantity:10*e.quantity,unit:"liters"};case"liters":case"liter":case"l":return{quantity:1e3*e.quantity,unit:"milliliters"};case"centiliters":case"centiliter":case"cl":return{quantity:10*e.quantity,unit:"milliliters"}}}return t})(e),i=(t=>{const e=t.toFixed(2).match(X.eL);if(!e)return t.toString();let n=+e[1]>0?+e[1]:0;const i=+e[2];let o="";return i<12&&n>0?o="":i<37?o="1/4":i<62?o="1/2":i<77?o="3/4":i>=77&&(o="",n++),`${n>0?n:""}${n>0&&o?" ":""}${o}`})(n.quantity);return{name:t.name,quantity:isNaN(e.quantity)?t.quantity:i,unit:n.unit}}).filter((t,e,n)=>e===n.length-1||!n.slice(e+1).find(e=>e.name===t.name)),o=new f.Oe([]);for(let a of i)o.push(new f.cw({name:new f.NI(a.name,[f.kI.required]),quantity:new f.NI(a.quantity,[f.kI.required]),unit:new f.NI(a.unit,[f.kI.required])}));this.weekForm.setControl("shoppingList",o)}resetToBlankWeek(){const t=new f.Oe([]);for(let e in O)t.push(new f.cw({time:new f.NI("L",[f.kI.required]),day:new f.NI(e,[f.kI.required]),text:new f.NI(null),recipeId:new f.NI(null)})),t.push(new f.cw({time:new f.NI("D",[f.kI.required]),day:new f.NI(e,[f.kI.required]),text:new f.NI(null),recipeId:new f.NI(null)}));this.weekForm.setControl("meals",t)}get shoppingListControls(){return this.weekForm.get("shoppingList").controls}addShoppingItem(){this.weekForm.get("shoppingList").insert(0,new f.cw({name:new f.NI(null,[f.kI.required]),quantity:new f.NI(null,[f.kI.required]),unit:new f.NI(null,[f.kI.required])}))}removeShoppingItem(t){this.weekForm.get("shoppingList").removeAt(t)}deleteShoppingList(){this.weekForm.setControl("shoppingList",new f.Oe([]))}get mealsControls(){return this.weekForm.get("meals").controls}addMeal(){this.weekForm.get("meals").push(new f.cw({time:new f.NI("B",[f.kI.required]),day:new f.NI("MON",[f.kI.required]),text:new f.NI(null),recipeId:new f.NI(null)}))}removeMeal(t){this.weekForm.get("meals").removeAt(t)}deleteAllMeals(){this.weekForm.setControl("meals",new f.Oe([]))}get weekdayKey(){return Object.keys(O)}get timeKey(){return Object.keys(C)}weekday(t){return O[t]}mealtime(t){return C[t]}get daysAndTimesUnique(){for(let t of this.weekdayKey){const e=this.weekForm.value.meals.filter(e=>e.day===t).map(t=>t.time);if(e.length!==new Set(e).size)return!1}return!0}onSubmit(){var t;if(!this.weekForm.valid||!this.daysAndTimesUnique)return this.modalTitle="An Error Occurred While Creating The Recipe",this.modalText="\n        The form isn't correct and we can't proceed. The most likely reason\n        is that the form has empty fields, hasn't been edited, or there are\n        days with overlapping mealtimes. Please check the form and try again.\n        ",void this.showModal();this.mutationLoading=!0;const e=this.weekForm.value.shoppingList,n=this.weekForm.value.meals.map(t=>Object.assign(Object.assign({},t),{time:C[t.time].toUpperCase(),day:O[t.day].toUpperCase()}));null===(t=this.mutationSubscription)||void 0===t||t.unsubscribe(),this.mutationSubscription="my-week"===this.groupId?this.weekService.updateWeekForIndividual(e,n).subscribe(({errors:t,data:e})=>this.handleMutationResults(t,e)):this.weekService.updateWeekForGroup(this.groupId,e,n).subscribe(({errors:t,data:e})=>this.handleMutationResults(t,e))}handleMutationResults(t,e){this.mutationLoading=!1,t?this.error=t[0].message:e&&this.router.navigate(["the-week",this.groupId])}showModal(){this.modalService.open(this.modalId)}closeModal(){this.modalService.close(this.modalId)}ngOnDestroy(){var t,e,n;null===(t=this.recipesSubscription)||void 0===t||t.unsubscribe(),null===(e=this.weekSubscription)||void 0===e||e.unsubscribe(),null===(n=this.mutationSubscription)||void 0===n||n.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(a.gz),r.Y36(a.F0),r.Y36(g.Z),r.Y36(p),r.Y36(nt.v))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-week-form"]],hostBindings:function(t,e){1&t&&r.NdJ("scroll",function(){return e.setModalTop()},!1,r.Jf7)},decls:5,vars:7,consts:[[4,"ngIf"],["class","loading",4,"ngIf"],[3,"id","title","text","top","close"],[1,"loading"],[1,"form",3,"formGroup","ngSubmit"],[1,"name"],[1,"name__display"],["formArrayName","shoppingList",1,"shopping-list"],[1,"shopping-list__head"],[1,"shopping-list__head__title"],[1,"shopping-list__head__add"],["type","button","width","20rem","height","10rem",3,"disabled","click"],["type","button","margin","1rem","width","20rem","height","10rem",3,"disabled","click"],["class","form__group__controls",3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","meals",1,"meals"],[1,"meals__title"],[1,"meals__title__buttons"],["type","button","margin","0 2rem",3,"disabled","click"],[1,"meals__content"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"form__buttons"],["type","submit","width","8rem",3,"disabled"],["type","button","width","8rem","margin","2rem 0",3,"routerLink"],[1,"form__submit"],["type","button","width","8rem","margin","0 2rem",3,"disabled","routerLink"],[1,"form__group__controls",3,"formGroupName"],[1,"form__group__controls__row"],[1,"control-group"],["type","text","placeholder"," ","formControlName","name",3,"id","name"],[3,"for"],["type","text","placeholder"," ","formControlName","quantity",3,"id","name"],["type","text","placeholder"," ","formControlName","unit",3,"id","name"],["type","button",3,"disabled","click"],[3,"formGroupName"],[1,"meals__row"],[1,"meals__content__control-group"],["for","'meal-weekday-' + i"],["formControlName","day",3,"id","name"],[3,"ngValue",4,"ngFor","ngForOf"],["for","'meal-time-' + i"],["formControlName","time",3,"id","name"],["for","'meal-recipe-' + i"],["formControlName","recipeId",3,"id","name"],[3,"ngValue"],["cols","50","rows","4","placeholder","Turn the oven on to 350 degrees","formControlName","text",3,"id","name"],[1,"meals__content__remove-meal"]],template:function(t,e){1&t&&(r.TgZ(0,"article"),r.YNc(1,it,2,1,"app-error-display",0),r.YNc(2,ot,2,0,"div",1),r.YNc(3,ht,48,24,"div",0),r.qZA(),r.TgZ(4,"app-default-modal",2),r.NdJ("close",function(){return e.closeModal()}),r.qZA()),2&t&&(r.xp6(1),r.Q6J("ngIf",e.error),r.xp6(1),r.Q6J("ngIf",!e.error&&e.loading),r.xp6(1),r.Q6J("ngIf",!e.error&&!e.loading),r.xp6(1),r.Q6J("id",e.modalId)("title",e.modalTitle)("text",e.modalText)("top",e.modalTop))},directives:[i.O5,h.r,k.n,_.N,f._Y,f.JL,f.sg,f.CE,T.r,i.sg,a.rH,f.x0,f.Fj,f.JJ,f.u,f.EJ,f.YN,f.Kr],styles:["@media only screen and (max-width:56.25em){article[_ngcontent-%COMP%]{padding:2rem}}.name[_ngcontent-%COMP%]{margin-left:1rem}.shopping-list__head[_ngcontent-%COMP%]{display:flex;align-items:center;width:80%;margin-left:1rem;padding:2rem 0}.shopping-list__head__title[_ngcontent-%COMP%]{margin-right:2rem}.form[_ngcontent-%COMP%]{position:relative}.form__buttons[_ngcontent-%COMP%]{position:fixed;top:10rem;right:10rem;display:flex;flex-direction:column}@media only screen and (max-width:56.25em){.form__buttons[_ngcontent-%COMP%]{display:none;visibility:hidden}}.form__group__controls__row[_ngcontent-%COMP%]{display:flex;align-items:center}.form__group__controls__row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:20rem}@media only screen and (max-width:56.25em){.form__group__controls__row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:8rem}}.form__group__controls__row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;padding:1rem;margin:0 0 1rem 1rem;font-size:2.4rem;border:1px solid #081c15;background-color:#d8f3dc;box-shadow:0 1px 1px 1px #0006;transition:all .4s}.form__group__controls__row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-3px)}.form__group__controls__row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:translateY(-1px)}section[_ngcontent-%COMP%]{border-bottom:2px solid #212529;margin-bottom:2rem}.shopping-list__head__add[_ngcontent-%COMP%]{display:flex;align-items:center}@media only screen and (max-width:56.25em){.shopping-list__head__add[_ngcontent-%COMP%]{flex-direction:column}}.meals__title[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:2rem}@media only screen and (max-width:56.25em){.meals__title__buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column}.meals__title__buttons[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]:not(:first-child){margin-top:1rem}}.meals__row[_ngcontent-%COMP%]{display:flex;margin:2rem 0}@media only screen and (max-width:56.25em){.meals__row[_ngcontent-%COMP%]{flex-direction:column}}.meals__content__control-group[_ngcontent-%COMP%]{margin-right:2rem;display:flex;align-items:center}@media only screen and (max-width:56.25em){.meals__content__control-group[_ngcontent-%COMP%]{margin-bottom:1rem}}.meals__content__control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1.44rem;margin-right:.5rem}.meals__content__control-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:2px}"],data:{animation:[(0,V.aR)("list")]}}),t})()},{path:":id",component:K}]}];let ft=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[a.Bz.forChild(_t)],a.Bz]}),t})(),yt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[i.ez,f.UX,ft,o.m]]}),t})()}}]);