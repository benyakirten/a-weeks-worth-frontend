(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[592],{3035:(e,t,n)=>{"use strict";n.d(t,{Pm:()=>o,aR:()=>r,Ro:()=>s,kY:()=>a,Ft:()=>d});var i=n(7238);const o=e=>(0,i.X$)(e,[(0,i.SB)("visible",(0,i.oB)({opacity:1,height:"*","transform-origin":"top",transform:"scaleY(1)"})),(0,i.SB)("void",(0,i.oB)({opacity:0,height:0,"transform-origin":"top",transform:"scaleY(0)"})),(0,i.eR)("* <=> void",(0,i.jt)("800ms ease"))]),r=e=>(0,i.X$)(e,[(0,i.SB)("present",(0,i.oB)({transform:"translateX(0)",opacity:1})),(0,i.SB)("void",(0,i.oB)({transform:"translateX(100%)",opacity:0})),(0,i.eR)("* <=> void",(0,i.jt)("1200ms ease"))]),s=e=>(0,i.X$)(e,[(0,i.SB)("present",(0,i.oB)({transform:"translateX(0)",opacity:1})),(0,i.SB)("void",(0,i.oB)({transform:"translateX(-100%)",opacity:0})),(0,i.eR)("* <=> void",(0,i.jt)("600ms ease"))]),a=e=>(0,i.X$)(e,[(0,i.SB)("present",(0,i.oB)({transform:"translateY(0)",opacity:1})),(0,i.SB)("void",(0,i.oB)({transform:"translateY(-100%)",opacity:0})),(0,i.eR)("void => *",(0,i.jt)("800ms ease-in")),(0,i.eR)("* => void",(0,i.jt)("800ms ease-out"))]),d=e=>(0,i.X$)(e,[(0,i.SB)("present",(0,i.oB)({opacity:1})),(0,i.SB)("void",(0,i.oB)({opacity:0})),(0,i.eR)("* <=> void",(0,i.jt)("800ms ease"))])},5944:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});class i{constructor(e,t,n){this.name=e,this.quantity=t,this.unit=n}}},8824:(e,t,n)=>{"use strict";n.d(t,{p:()=>i});class i{constructor(e,t,n,i,o,r){this.id=e,this.name=t,this.ingredients=n,this.steps=i,this.photo=o,this.url=r}}},2872:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});class i{constructor(e,t){this.step=e,this.order=t}}},6445:(e,t,n)=>{"use strict";n.d(t,{g:()=>a});var i=n(3018),o=n(960),r=n(8583);function s(e,t){if(1&e&&(i.TgZ(0,"li"),i._uU(1),i.qZA()),2&e){const e=t.$implicit;i.xp6(1),i.hij(" ",e," ")}}let a=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-default-display-box"]],inputs:{rules:"rules",headline:"headline"},decls:5,vars:2,consts:[[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(i.TgZ(0,"app-display-box"),i.TgZ(1,"h4"),i._uU(2),i.qZA(),i.TgZ(3,"ol"),i.YNc(4,s,2,1,"li",0),i.qZA(),i.qZA()),2&e&&(i.xp6(2),i.hij(" ",t.headline," "),i.xp6(2),i.Q6J("ngForOf",t.rules))},directives:[o.S,r.sg],styles:["ol[_ngcontent-%COMP%]{font-size:1.8rem;margin-left:2rem}@media only screen and (max-width:37.5em){ol[_ngcontent-%COMP%]{margin-left:3rem}}ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{margin-top:1rem}ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1rem}"]}),e})()},3688:(e,t,n)=>{"use strict";n.d(t,{E:()=>a});var i=n(3018);const o=["*"];let r=(()=>{class e{constructor(){this.fontSize="1.8rem",this.width="15rem"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-hover-toolbar"]],inputs:{fontSize:"fontSize",width:"width"},ngContentSelectors:o,decls:4,vars:4,template:function(e,t){1&e&&(i.F$t(),i.TgZ(0,"span"),i._uU(1," i "),i.TgZ(2,"div"),i.Hsn(3),i.qZA(),i.qZA()),2&e&&(i.Udp("font-size",t.fontSize),i.xp6(2),i.Udp("width",t.width))},styles:["span[_ngcontent-%COMP%]{cursor:context-menu;position:relative;border-radius:50%;border:1px solid #000;margin:1rem}span[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:1rem;left:2rem;border:3px solid #000;background-color:#f8f9fa;z-index:1;transition:all .2s;transform-origin:top;transform:scaleY(0)}span[_ngcontent-%COMP%]:hover > div[_ngcontent-%COMP%]{transform:scaleY(1)}"]}),e})();const s=["*"];let a=(()=>{class e{constructor(){this.fontSize="1.8rem",this.width="15rem"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-default-hover-toolbar"]],inputs:{fontSize:"fontSize",width:"width"},ngContentSelectors:s,decls:4,vars:2,consts:[[3,"fontSize","width"],[1,"hover-toolbar"]],template:function(e,t){1&e&&(i.F$t(),i.TgZ(0,"app-hover-toolbar",0),i.TgZ(1,"div",1),i.TgZ(2,"p"),i.Hsn(3),i.qZA(),i.qZA(),i.qZA()),2&e&&i.Q6J("fontSize",t.fontSize)("width",t.width)},directives:[r],styles:[".hover-toolbar[_ngcontent-%COMP%]{padding:1rem}"]}),e})()},4097:(e,t,n)=>{"use strict";n.d(t,{r:()=>d});var i=n(3018),o=n(9150);const r=["*"];let s=(()=>{class e{constructor(e,t){this.modalService=e,this.el=t,this.top=0,this.element=this.el.nativeElement}ngOnInit(){this.id?(document.body.appendChild(this.element),this.modalService.add(this)):console.error("Modal must have an ID")}open(){document.body.classList.add("modal-open"),this.element.style.display="block"}close(){document.body.classList.remove("modal-open"),this.element.style.display="none"}ngOnDestroy(){this.modalService.remove(this.id),this.element.remove()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(o.Z),i.Y36(i.SBq))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-modal"]],inputs:{id:"id",top:"top"},ngContentSelectors:r,decls:5,vars:2,consts:[[1,"modal-background",3,"click"],[1,"modal"],[1,"modal__close",3,"click"]],template:function(e,t){1&e&&(i.F$t(),i.TgZ(0,"div",0),i.NdJ("click",function(){return t.close()}),i.qZA(),i.TgZ(1,"div",1),i.TgZ(2,"button",2),i.NdJ("click",function(){return t.close()}),i._uU(3,"\xd7"),i.qZA(),i.Hsn(4),i.qZA()),2&e&&(i.xp6(1),i.Udp("top",t.top+200+"px"))},styles:["app-modal{display:none}.modal{position:absolute;left:50%;top:30%;transform:translate(-50%,-30%);z-index:101;overflow-y:auto;overflow-x:hidden;background-color:#f8f9fa;border-radius:3px;min-height:30rem;width:60%}.modal__close{cursor:pointer;position:absolute;top:-2px;right:-2px;font-size:3rem;height:6rem;width:6rem;background-color:#2d6a4f;color:#f8f9fa;opacity:.8;transition:all .4s}.modal__close:hover{color:#d8f3dc;opacity:1}.modal__close:active{color:#95d5b2;opacity:1}.modal-background{position:absolute;top:0;left:0;width:100%;height:100%;z-index:100;min-height:200vh;background-color:#000c}"],encapsulation:2}),e})();var a=n(42);let d=(()=>{class e{constructor(){this.close=new i.vpe,this.top=0,this.title="An error occurred",this.text="\n    Who knows what wrent wrong?\n    It could be something simple or complicated.\n    But the easiest thing to do probably is to contact Ben.\n    Or just like, I don't know, reload the page? Or don't\n    hack things? It's the most likely reason that you're seeing\n    this popup.\n  ",this.buttonCaption="OK"}ngOnInit(){this.id||console.error("Modal must have an ID")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-default-modal"]],inputs:{top:"top",id:"id",title:"title",text:"text",buttonCaption:"buttonCaption"},outputs:{close:"close"},decls:11,vars:5,consts:[[3,"id","top"],[1,"container"],[1,"row"],[1,"text"],[1,"button"],[3,"click"]],template:function(e,t){1&e&&(i.TgZ(0,"app-modal",0),i.TgZ(1,"div",1),i.TgZ(2,"h2"),i._uU(3),i.qZA(),i.TgZ(4,"div",2),i.TgZ(5,"div",3),i.TgZ(6,"p"),i._uU(7),i.qZA(),i.qZA(),i.TgZ(8,"div",4),i.TgZ(9,"app-button",5),i.NdJ("click",function(){return t.close.emit()}),i._uU(10),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.Q6J("id",t.id)("top",t.top),i.xp6(3),i.Oqu(t.title),i.xp6(4),i.Oqu(t.text),i.xp6(3),i.Oqu(t.buttonCaption))},directives:[s,a.r],styles:[".container[_ngcontent-%COMP%]{padding:2rem}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem;border-bottom:1px solid #081c15;width:80%}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin-top:2rem;display:flex;align-items:center}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-right:2rem}"]}),e})()},960:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});var i=n(3018);const o=["*"];let r=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-display-box"]],ngContentSelectors:o,decls:2,vars:0,consts:[[1,"container"]],template:function(e,t){1&e&&(i.F$t(),i.TgZ(0,"div",0),i.Hsn(1),i.qZA())},styles:[".container[_ngcontent-%COMP%]{margin:4rem 0;padding:2rem;background-color:#f8f9fa;border:1px solid #343a40;box-shadow:2px 2px 2px 2px #0006}"]}),e})()},2854:(e,t,n)=>{"use strict";n.d(t,{yz:()=>o,QO:()=>r,iP:()=>s});var i=n(3095);const o=i.ZP`
  mutation createGroup($name: String!) {
    createGroup(name: $name) {
      individual {
        groups {
          id
          name
          members
        }
      }
      group {
        id
        name
        members
      }
    }
  }
`,r=i.ZP`
  mutation updateGroup($id: ID!, $shoppingList: [IngredientInputType!], $meals: [MealInputType!]) {
    updateGroup(id: $id, shoppingList: $shoppingList, meals: $meals) {
      group {
        id
        name
        members
        shoppingList {
          name
          quantity
          unit
        }
        meals {
          text
          recipe {
            id
            name
          }
          time
          day
        }
      }
    }
  }
`,s=i.ZP`
  mutation deleteGroup($id: ID!) {
    deleteGroup(id: $id) {
      group {
        id
        name
        members
      }
    }
  }
`},5788:(e,t,n)=>{"use strict";n.d(t,{DP:()=>o,MB:()=>r,Ii:()=>s,Ig:()=>a,dm:()=>d});var i=n(3095);const o=i.ZP`
  mutation updateIndividual($shoppingList: [IngredientInputType!], $meals: [MealInputType]) {
    updateIndividual(shoppingList: $shoppingList, meals: $meals) {
      individual {
        shoppingList {
          name
          quantity
          unit
        }
        meals {
          text
          recipe {
            id
            name
          }
          time
          day
        }
      }
    }
  }
`,r=i.ZP`
  mutation requestAccess($id: ID!) {
    requestAccess(id: $id) {
      success
      individual {
        requests {
          id
          name
        }
      }
    }
  }
`,s=i.ZP`
  mutation cancelRequest($id: ID!) {
    cancelRequest(id: $id) {
      success
      individual {
        requests {
          id
          name
        }
      }
    }
  }
`,a=i.ZP`
  mutation inviteToGroup($invitedId: ID!, $groupId: ID!) {
    inviteToGroup(invitedId: $invitedId, groupId: $groupId) {
      individual {
        groups {
          id
          name
          members
        }
      }
      group {
        id
        name
        members
      }
    }
  }
`,d=i.ZP`
  mutation leaveGroup($id: ID!) {
    leaveGroup(id: $id) {
      individual {
        username
        groups {
          id
          name
        }
      }
    }
  }
`},8797:(e,t,n)=>{"use strict";n.d(t,{Zo:()=>o,ik:()=>r,lH:()=>s,Y:()=>a,c2:()=>d});var i=n(3095);const o=i.ZP`
  query GetAllRecipes {
    recipes {
      id
      name
      photo
      ingredients {
        name
        quantity
        unit
      }
      steps {
        step
        order
      }
    }
  }
`,r=i.ZP`
  query GetRecipe($id: ID) {
    recipe(id: $id) {
      id
      name
      photo
      ingredients {
        name
        quantity
        unit
      }
      steps {
        step
        order
      }
    }
  }
`,s=i.ZP`
  query allGroups {
    groups {
      id
      name
      members
    }
  }
`,a=i.ZP`
  query myGroups {
    me {
      individual {
        requests {
          id
          name
        }
        groups {
          id
          name
          members
          requests {
            id
            name
          }
          meals {
            text
            recipe {
              id
              name
            }
            day
            time
          }
          shoppingList {
            name
            quantity
            unit
          }
        }
      }
    }
  }
`,d=i.ZP`
  query myWeek {
    me {
      individual {
        meals {
          text
          recipe {
            id
            name
          }
          day
          time
        }
        shoppingList {
          name
          quantity
          unit
        }
        groups {
          id
          name
          members
          requests {
            id
            name
          }
          meals {
            text
            recipe {
              id
              name
            }
            day
            time
          }
          shoppingList {
            name
            quantity
            unit
          }
        }
      }
    }
  }
`},9150:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(3018);let o=(()=>{class e{constructor(){this.modals=[]}add(e){this.modals.push(e)}remove(e){this.modals=this.modals.filter(t=>t.id!==e)}open(e){const t=this.modals.find(t=>t.id===e);null==t||t.open()}close(e){const t=this.modals.find(t=>t.id===e);null==t||t.close()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},6935:(e,t,n)=>{"use strict";n.d(t,{v:()=>h});var i=n(6304),o=n(2340),r=n(8797),s=n(3095);const a=s.ZP`
  mutation createRecipe($name: String!, $photo: String, $url: String, $ingredients: [IngredientInputType!], $steps: [RecipeStepInputType!]) {
    createRecipe(name: $name, photo: $photo, url: $url, ingredients: $ingredients, steps: $steps) {
      recipe {
        id
        name
        photo
        ingredients {
          name
          quantity
          unit
        }
        steps {
          step
          order
        }
      }
    }
  }
`,d=s.ZP`
  mutation updateRecipe($id: ID!, $name: String!, $photo: String, $ingredients: [IngredientInputType!], $steps: [RecipeStepInputType!]) {
    updateRecipe(id: $id, name: $name, photo: $photo, ingredients: $ingredients, steps: $steps) {
      recipe {
        id
        name
        photo
        ingredients {
          name
          quantity
          unit
        }
        steps {
          step
          order
        }
      }
    }
  }
`,p=s.ZP`
  mutation deleteRecipe($id: ID!) {
    deleteRecipe(id: $id) {
      recipe {
        name
        id
      }
    }
  }
`;var c=n(8824),l=n(5944),u=n(2872),m=n(3018),g=n(4697);let h=(()=>{class e{constructor(e){this.apollo=e}get recipes(){return this.apollo.watchQuery({query:r.Zo}).valueChanges}getRecipe(e){return this.apollo.watchQuery({query:r.ik,variables:{id:e}}).valueChanges}createRecipe(e){return console.log(e),this.apollo.mutate({mutation:a,variables:Object.assign(Object.assign({},e),{url:e.url?e.url:""}),update:(e,{data:t,errors:n})=>{if(n)throw Error(`Unable to update recipe: ${n[0].message}`);const i=e.readQuery({query:r.Zo}),o=null==i?void 0:i.recipes.concat(t.createRecipe.recipe);e.writeQuery({query:r.Zo,data:{recipes:o}})}})}updateRecipe(e){return this.apollo.mutate({mutation:d,variables:Object.assign({},e)})}deleteRecipe(e){if(!localStorage.getItem("AWW_token"))throw Error("User must be logged in to delete a recipe");return this.apollo.mutate({mutation:p,variables:{id:e},update:(t,{errors:n})=>{if(n)throw Error(`Unable to delete recipe: ${n[0].message}`);const i=t.readQuery({query:r.Zo}),o=null==i?void 0:i.recipes.filter(t=>t.id!==e);t.writeQuery({query:r.Zo,data:{recipes:o}})}})}translateRecipe(e,t=!0){return(0,i.Z)(function*(){try{return(yield fetch(o.N.translationUrl,{method:"POST",body:JSON.stringify({url:e,convertUnits:t})})).json()}catch(n){return{error:n}}})()}prepareRecipe(e,t){return new c.p("",e.name,e.ingredients.map(e=>new l.o(e[0],e[1].toString(),e[2])),e.preparation.map((e,t)=>new u.h(e,t+1)),e.image,t)}}return e.\u0275fac=function(t){return new(t||e)(m.LFG(g._M))},e.\u0275prov=m.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},6304:(e,t,n)=>{"use strict";function i(e,t,n,i,o,r,s){try{var a=e[r](s),d=a.value}catch(p){return void n(p)}a.done?t(d):Promise.resolve(d).then(i,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var s=e.apply(t,n);function a(e){i(s,o,r,a,d,"next",e)}function d(e){i(s,o,r,a,d,"throw",e)}a(void 0)})}}n.d(t,{Z:()=>o})}}]);